/////////////////////////////////////////////////////////////////////////////
#if !defined(_Nsa_EvMap_h_)
#define _Nsa_EvMap_h_
//---------------------------------------------------------------------------
#include "ev_map.h"
#include "fixed_num.h"
#include "inn_file.h"

/////////////////////////////////////////////////////////////////////////////
namespace Kway {
   using namespace Kstl;
namespace Nsa  {

/////////////////////////////////////////////////////////////////////////////
// 型態定義
/////////////////////////////////////////////////////////////////////////////
typedef rr_inn_file<uint64, word>  TCommInn;
typedef fixed_num<byte>            TEvMapKeyDef;
typedef fixed_num<byte>            TEvMapDatDef;

/////////////////////////////////////////////////////////////////////////////
// 巨集
/////////////////////////////////////////////////////////////////////////////
#define Nsa_EvMap_Default_Operator_Equal(Name)           \
   K_mf(void) operator = (const Name& rhs)               \
   {                                                     \
      Kway::Nsa::TCommInn::rr_key roomKey = RoomKey_;    \
                                                         \
      memcpy(this, &rhs, sizeof(Name));                  \
      RoomKey_ = roomKey;                                \
   }                                                     \
//---------------------------------------------------------------------------

/////////////////////////////////////////////////////////////////////////////
#ifdef HANDLE_PRAGMA_PACK_PUSH_POP
#pragma pack(push,1)
#else
#pragma pack(1)
#endif

/////////////////////////////////////////////////////////////////////////////
// struct SEvMapDatNull
/////////////////////////////////////////////////////////////////////////////
struct SEvMapDatNull
{
};
/////////////////////////////////////////////////////////////////////////////
// struct SEvMapDatDefInn
/////////////////////////////////////////////////////////////////////////////
struct SEvMapDatDefInn
{
   TCommInn::rr_key mutable  RoomKey_;
      
   Nsa_EvMap_Default_Operator_Equal(SEvMapDatDefInn)
};

/////////////////////////////////////////////////////////////////////////////
#ifdef HANDLE_PRAGMA_PACK_PUSH_POP
#pragma pack(pop)
#else
#pragma pack()
#endif

/////////////////////////////////////////////////////////////////////////////
}; // namespace Nsa
}; // namespace Kway

/////////////////////////////////////////////////////////////////////////////
#endif // !defined(_Nsa_EvMap_h_)
